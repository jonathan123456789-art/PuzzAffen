<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bewertungen – Putzaffen</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Putzaffen</h1>
    <nav>
      <a href="index.html">Startseite</a>
      <a href="preise.html">Preise</a>
      <a href="übermich.html">Über mich</a>
      <a href="bewertungen.html">Bewertungen</a>
      <a href="bewertungsenden.html">Bewertung senden</a>
    </nav>
  </header>

  <main>
    <div class="section-box">
      <h2>Alle Bewertungen</h2>
      <div id="reviews">Bewertungen werden geladen...</div>
    </div>
  </main>

  <footer>
    &copy; 2025 Putzaffen – Fensterreinigung
  </footer>

  <script>
    const webAppUrl = "https://script.google.com/macros/s/AKfycbwY4Jiz3l8DkfxLvltZ3J01iTrXpg6i4mlDXB4NIrnFjDrnXKyHTfaOO2zTLxWM0HChoA/exec";

    async function loadReviews() {
      try {
        const response = await fetch(webAppUrl);
        const reviews = await response.json();

        const container = document.getElementById("reviews");
        container.innerHTML = "";

        reviews.forEach(r => {
          const div = document.createElement("div");
          div.classList.add("single-review");
          div.innerHTML = `<h4>${r.name} – ${r.stars}</h4><p>${r.comment || ""}</p>`;
          container.appendChild(div);
        });
      } catch (error) {
        document.getElementById("reviews").innerHTML = "Bewertungen konnten nicht geladen werden.";
        console.error("Fehler beim Laden der Bewertungen:", error);
      }
    }

    loadReviews();
  </script>
</body>
</html>
